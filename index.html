<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a0a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Terminal Farm">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%230a0a0a'/><rect x='10' y='10' width='80' height='80' fill='none' stroke='%2300ff00' stroke-width='5'/><text x='50' y='65' font-size='40' text-anchor='middle' fill='%2300ff00' font-family='monospace'>TF</text></svg>">
    <title>Terminal Farm</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Screen Size Warning -->
    <div id="screenWarning" class="blocking-screen">
        <div class="blocking-icon">ğŸ“±âŒ</div>
        <div class="blocking-title">Bildschirm zu klein</div>
        <div class="blocking-text">
            Terminal Farm benÃ¶tigt einen grÃ¶ÃŸeren Bildschirm.<br><br>
            <strong>Mindestanforderungen:</strong><br>
            â€¢ Breite: 768px<br>
            â€¢ HÃ¶he: 600px<br><br>
            Bitte verwende ein Tablet, iPad oder Computer.
        </div>
    </div>

    <!-- PWA Required Screen -->
    <div id="pwaRequired" class="blocking-screen">
        <div class="blocking-icon">ğŸ“±</div>
        <div class="blocking-title">App-Installation erforderlich</div>
        <div class="blocking-text">
            Terminal Farm muss als App installiert werden.
        </div>
        <div class="blocking-steps">
            <div><strong>ğŸ“± iOS (Safari):</strong><br>Teilen â†’ Zum Home-Bildschirm</div>
            <div><strong>ğŸ¤– Android (Chrome):</strong><br>MenÃ¼ (â‹®) â†’ App installieren</div>
            <div><strong>ğŸ’» Desktop (Chrome/Edge):</strong><br>Adressleiste â†’ App installieren (âŠ•)</div>
        </div>
        <div class="blocking-text" style="color: #ffaa00; margin-top: 20px;">
            Nach der Installation Ã¶ffne die App vom Home-Bildschirm!
        </div>
    </div>

    <!-- Cloud Restore Modal -->
    <div id="cloudRestoreModal" class="modal">
        <div class="modal-content">
            <div class="modal-title">â˜ï¸ CLOUD-SICHERUNG WIEDERHERSTELLEN</div>
            <div id="cloudRestoreContent"></div>
        </div>
    </div>

    <!-- Main Game UI -->
    <div id="gameContainer" style="display: none; flex: 1; display: flex; flex-direction: column;">
        <div id="header">
            <div class="title">ğŸŒ¾ TERMINAL FARM ğŸŒ¾</div>
            <div id="money-display">ğŸ’° 0 â‚¬</div>
            <div class="header-buttons">
                <span class="sync-badge online" id="syncBadge">â— Online</span>
                <button class="btn header-btn" id="statusBtn">ğŸ“Š Status</button>
                <button class="btn header-btn" id="inventoryBtn">ğŸ“¦ Inventar</button>
                <button class="btn header-btn" id="settingsBtn">âš™ï¸</button>
            </div>
        </div>

        <div id="terminal"></div>

        <div id="input-line">
            <span id="prompt">farm@terminal:~$</span>
            <input type="text" id="input" autocomplete="off" autofocus>
        </div>
    </div>

    <!-- Status Modal -->
    <div id="statusModal" class="modal">
        <div class="modal-content">
            <div class="modal-title">ğŸ“Š FARM STATUS</div>
            <div id="statusContent"></div>
            <div class="modal-buttons">
                <button class="btn" id="closeStatusBtn">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Inventory Modal -->
    <div id="inventoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-title">ğŸ“¦ INVENTAR</div>
            <div id="inventoryContent"></div>
            <div class="modal-buttons">
                <button class="btn" id="closeInventoryBtn">SchlieÃŸen</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-title">âš™ï¸ EINSTELLUNGEN</div>
            <div id="settingsContent"></div>
        </div>
    </div>

    <!-- Tutorial Modal -->
    <div id="tutorialModal" class="modal">
        <div class="modal-content">
            <div class="modal-title">ğŸ“ WILLKOMMEN BEI TERMINAL FARM!</div>
            <div id="tutorialContent"></div>
        </div>
    </div>

    <script type="module" src="game.js"></script>
    <script src="service-worker-register.js"></script>
</body>
</html>
